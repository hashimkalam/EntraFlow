# EntraFlow: AI Agent Orchestration System Configuration

# API Configuration
api:
  weather:
    base_url: "https://api.openweathermap.org/data/2.5/weather"
    api_key: ""  # Set via environment variable OPENWEATHER_API_KEY or update here
    timeout: 10
  news:
    base_url: "https://newsapi.org/v2/top-headlines"
    api_key: ""  # Set via environment variable NEWS_API_KEY or update here
    timeout: 10
  langchain:
    provider: "huggingface" # "huggingface", "openai", or "ollama"
    model_name: "openai-community/gpt2" # Local model or OpenAI model name
    temperature: 0.7

# Agent Configuration
agents:
  data_fetcher:
    max_retries: 3
    cache_enabled: true
    cache_ttl: 300  # seconds
  
  analyzer:
    model_name: "distilbert-base-uncased-finetuned-sst-2-english"
    confidence_threshold: 0.7
    max_keywords: 10
  
  decision_maker:
    sentiment_threshold: -0.3  # Trigger alert if below this
    priority_rules:
      critical: -0.5
      high: -0.3
      medium: 0.0
      low: 0.3
  
  notifier:
    output_format: "json"  # json, text, or html
    include_visualizations: false
  
  supervisor:
    validation_enabled: true
    conflict_resolution: "latest"  # latest, average, or manual

# Orchestrator Configuration
orchestrator:
  max_retries: 3
  retry_delay: 2  # seconds
  retry_backoff: 2  # exponential multiplier
  max_concurrent_agents: 5
  state_persistence: true

# Logging Configuration
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  log_to_file: true
  log_file: "data/outputs/agent_orchestrator.log"
  max_file_size: 10485760  # 10MB
  backup_count: 5
  console_output: true

# Workflow Definitions
workflows:
  enterprise_analysis:
    description: "Full enterprise data analysis workflow"
    steps:
      - agent: "DataFetcher"
        inputs: {}
        outputs: ["raw_data"]
      - agent: "Analyzer"
        inputs: ["raw_data"]
        outputs: ["analysis_results"]
        depends_on: ["DataFetcher"]
      - agent: "DecisionMaker"
        inputs: ["analysis_results"]
        outputs: ["decisions"]
        depends_on: ["Analyzer"]
      - agent: "Notifier"
        inputs: ["decisions", "analysis_results"]
        outputs: ["report"]
        depends_on: ["DecisionMaker"]
      - agent: "Supervisor"
        inputs: ["report", "decisions"]
        outputs: ["validated_report"]
        depends_on: ["Notifier"]
  
  quick_sentiment_check:
    description: "Quick sentiment analysis only"
    steps:
      - agent: "DataFetcher"
        inputs: {}
        outputs: ["raw_data"]
      - agent: "Analyzer"
        inputs: ["raw_data"]
        outputs: ["analysis_results"]
        depends_on: ["DataFetcher"]
      - agent: "Notifier"
        inputs: ["analysis_results"]
        outputs: ["report"]
        depends_on: ["Analyzer"]
